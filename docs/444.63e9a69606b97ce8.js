"use strict";(self.webpackChunktask_managment=self.webpackChunktask_managment||[]).push([[444],{9444:(M,g,a)=>{a.r(g),a.d(g,{AuthModule:()=>P});var m=a(6814),d=a(8948),r=a(6223),e=a(5879),c=a(5148),f=a(3354),v=a(9185);function T(t,s){1&t&&e._UZ(0,"app-loader")}function x(t,s){1&t&&(e.TgZ(0,"div"),e._uU(1,"Email is required."),e.qZA())}function Z(t,s){1&t&&(e.TgZ(0,"div"),e._uU(1,"Invalid email address."),e.qZA())}function U(t,s){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,x,2,0,"div",1),e.YNc(2,Z,2,0,"div",1),e.qZA()),2&t){const o=e.oxw();let n,i;e.xp6(1),e.Q6J("ngIf",null==(n=o.loginForm.get("email"))?null:n.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(i=o.loginForm.get("email"))?null:i.hasError("email"))}}function y(t,s){1&t&&(e.TgZ(0,"span"),e._uU(1,"Password is required."),e.qZA())}function q(t,s){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,y,2,0,"span",1),e.qZA()),2&t){const o=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=o.loginForm.get("password"))?null:n.hasError("required"))}}const h=function(t){return{"is-invalid":t}},C=function(t,s){return{"mdi-eye-off-outline":t,"mdi-eye-outline":s}};function A(t,s){1&t&&e._UZ(0,"app-loader")}function S(t,s){1&t&&(e.TgZ(0,"div"),e._uU(1,"Username is required"),e.qZA())}function I(t,s){if(1&t&&(e.TgZ(0,"div",35),e.YNc(1,S,2,0,"div",1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.f.userName.errors.required)}}function J(t,s){1&t&&(e.TgZ(0,"div"),e._uU(1,"email is required"),e.qZA())}function N(t,s){1&t&&(e.TgZ(0,"div"),e._uU(1,"Invalid email address"),e.qZA())}function L(t,s){if(1&t&&(e.TgZ(0,"div",35),e.YNc(1,J,2,0,"div",1),e.YNc(2,N,2,0,"div",1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",o.f.email.errors.email)}}function k(t,s){1&t&&(e.TgZ(0,"span"),e._uU(1,"Password is required"),e.qZA())}function F(t,s){if(1&t&&(e.TgZ(0,"div",35),e.YNc(1,k,2,0,"span",1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.f.password.errors.required)}}const u=function(t){return{"is-invalid":t}},Y=function(t,s){return{"mdi-eye-off-outline":t,"mdi-eye-outline":s}},Q=[{path:"login",component:(()=>{class t{constructor(o,n,i,l,p){this.formBuilder=o,this.route=n,this.router=i,this.authService=l,this.message=p,this.Loader=!1,this.submitted=!1,this.subsribes=[]}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required]]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/user/task-list"}get f(){return this.loginForm.controls}toggleFieldTextType(){this.fieldTextType=!this.fieldTextType}onSubmit(){if(this.submitted=!0,!this.loginForm.valid)return;this.Loader=!0;let o=this.loginForm.getRawValue();this.authService.signIn(o.email,o.password).subscribe(n=>{n?(JSON.stringify(localStorage.setItem("userUUID",n.uuid)),localStorage.setItem("userRole",n.role),this.Loader=!1,this.message.toast("Logged In Successfully","success"),"admin"===n.role?this.router.navigate(["/admin/user-management"]):"manager"===n.role?this.router.navigate(["/manager/task-management"]):"user"===n.role&&this.router.navigate(["/user/task-list"])):(this.router.navigate(["/auth/login"]),this.Loader=!1)},n=>{this.Loader=!1,this.message.toast(n,"error")})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(r.qu),e.Y36(d.gz),e.Y36(d.F0),e.Y36(c.e),e.Y36(f.e))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:46,vars:16,consts:[[1,"auth-page-wrapper","pt-5"],[4,"ngIf"],[1,"auth-page-content"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-center","mt-sm-5","mb-4"],[1,"app-title"],[1,"text-muted"],[1,"p-2","mt-4"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","email",1,"form-label","font-weight-bold"],["type","email","id","email","formControlName","email","placeholder","Enter email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password-input",1,"form-label","font-weight-bold"],[1,"position-relative","auth-pass-inputgroup","mb-3"],["placeholder","Enter password","id","password-input","formControlName","password",1,"form-control","pe-5",3,"type","ngClass"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted"],[1,"mdi","align-middle",3,"ngClass","click"],[1,"mt-4"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"have-acc","d-flex","justify-content-center","gap-2","align-items-center","pt-2","pb-2","mb-3","mt-2"],["routerLink","/auth/signup","role","button",1,"btn","btn-primary","bg-white","text-dark",2,"border","1px solid grey"],[1,"footer"],[1,"row"],[1,"col-lg-12"],[1,"text-center"],[1,"mb-0","text-muted"],[1,"mdi","mdi-heart","text-danger"],[1,"invalid-feedback"]],template:function(n,i){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,T,1,0,"app-loader",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),e._uU(11," Task Management System "),e.qZA()(),e.TgZ(12,"p",11),e._uU(13,"Login to continue"),e.qZA()(),e.TgZ(14,"div",12)(15,"form",13),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Email"),e.qZA(),e._UZ(19,"input",16),e.YNc(20,U,3,2,"div",17),e.qZA(),e.TgZ(21,"div",14)(22,"label",18),e._uU(23,"Password"),e.qZA(),e.TgZ(24,"div",19),e._UZ(25,"input",20),e.TgZ(26,"button",21)(27,"i",22),e.NdJ("click",function(){return i.toggleFieldTextType()}),e.qZA()(),e.YNc(28,q,2,1,"div",17),e.qZA()(),e.TgZ(29,"div",23)(30,"button",24)(31,"span"),e._uU(32,"Sign In"),e.qZA()()()(),e.TgZ(33,"div",25)(34,"span"),e._uU(35,"Don't have an account?"),e.qZA(),e.TgZ(36,"a",26),e._uU(37,"Sign Up"),e.qZA()()()()()()()()(),e.TgZ(38,"footer",27)(39,"div",3)(40,"div",28)(41,"div",29)(42,"div",30)(43,"p",31),e._uU(44,"\xa9 Crafted with love "),e._UZ(45,"i",32),e.qZA()()()()()()()),2&n){let l,p,_,b;e.xp6(1),e.Q6J("ngIf",i.Loader),e.xp6(14),e.Q6J("formGroup",i.loginForm),e.xp6(4),e.Q6J("ngClass",e.VKq(9,h,i.submitted&&(null==(l=i.loginForm.get("email"))?null:l.errors))),e.xp6(1),e.Q6J("ngIf",i.submitted&&(null==(p=i.loginForm.get("email"))?null:p.errors)),e.xp6(5),e.Q6J("type",i.fieldTextType?"text":"password")("ngClass",e.VKq(11,h,i.submitted&&(null==(_=i.loginForm.get("password"))?null:_.errors))),e.xp6(2),e.Q6J("ngClass",e.WLB(13,C,!i.fieldTextType,i.fieldTextType)),e.xp6(1),e.Q6J("ngIf",i.submitted&&(null==(b=i.loginForm.get("password"))?null:b.errors)),e.xp6(2),e.Q6J("disabled",i.Loader)}},dependencies:[m.mk,m.O5,d.rH,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,v.R],styles:[".have-acc[_ngcontent-%COMP%]{box-shadow:8.8px 11.3px 7.6px -10px #00000008,29.7px 38px 25.5px -10px #0000000c,133px 170px 114px -10px #00000014;background:#efefed;border-radius:4px}.app-title[_ngcontent-%COMP%]{font-size:27px;font-family:initial;font-style:oblique;color:#201a1a}"]})}return t})()},{path:"signup",component:(()=>{class t{constructor(o,n,i,l,p){this.formBuilder=o,this.route=n,this.router=i,this.authService=l,this.message=p,this.Loader=!1,this.submitted=!1,this.subsribes=[]}ngOnInit(){this.signUpForm=this.formBuilder.group({userName:["",[r.kI.required]],email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required]]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/user/task-list"}get f(){return this.signUpForm.controls}toggleFieldTextType(){this.fieldTextType=!this.fieldTextType}onSubmit(){if(this.submitted=!0,!this.signUpForm.valid)return;this.Loader=!0;const o=this.signUpForm.getRawValue();this.authService.signUp(o).subscribe(({uuid:n,...i})=>{n&&(localStorage.setItem("userUUID",n),localStorage.setItem("userRole",i.role),this.Loader=!1,this.message.toast("Signed Up In Successfully","success"),this.router.navigate([this.returnUrl]))},n=>{this.Loader=!1,this.message.toast(n,"error")})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(r.qu),e.Y36(d.gz),e.Y36(d.F0),e.Y36(c.e),e.Y36(f.e))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-sign-up"]],decls:52,vars:20,consts:[[1,"auth-page-wrapper","pt-5"],[4,"ngIf"],[1,"auth-page-content"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-center","mt-sm-5","mb-4","text-white-50"],[1,"app-title"],[1,"text-muted"],[1,"p-2","mt-4"],["autocomplete","",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","userName",1,"form-label","font-weight-bold"],["type","userName","id","userName","formControlName","userName","placeholder","Enter Username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","email",1,"form-label","font-weight-bold"],["type","email","id","email","formControlName","email","placeholder","Enter email",1,"form-control",3,"ngClass"],["for","password-input",1,"form-label","font-weight-bold"],[1,"position-relative","auth-pass-inputgroup","mb-3"],["placeholder","Enter password","id","password-input","formControlName","password",1,"form-control","pe-5",3,"type","ngClass"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted"],[1,"mdi","align-middle",3,"ngClass","click"],[1,"mt-4"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"have-acc","d-flex","justify-content-center","gap-2","align-items-center","pt-2","pb-2","mb-3","mt-2"],["routerLink","/auth/login","role","button",1,"btn","btn-primary","bg-white","text-dark",2,"border","1px solid grey"],[1,"footer"],[1,"row"],[1,"col-lg-12"],[1,"text-center"],[1,"mb-0","text-muted"],[1,"mdi","mdi-heart","text-danger"],[1,"invalid-feedback"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,A,1,0,"app-loader",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div")(11,"div",10),e._uU(12," Task Management System "),e.qZA()()(),e.TgZ(13,"p",11),e._uU(14,"sign up to continue"),e.qZA()(),e.TgZ(15,"div",12)(16,"form",13),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(17,"div",14)(18,"label",15),e._uU(19,"Username"),e.qZA(),e._UZ(20,"input",16),e.YNc(21,I,2,1,"div",17),e.qZA(),e.TgZ(22,"div",14)(23,"label",18),e._uU(24,"email"),e.qZA(),e._UZ(25,"input",19),e.YNc(26,L,3,2,"div",17),e.qZA(),e.TgZ(27,"div",14)(28,"label",20),e._uU(29,"Password"),e.qZA(),e.TgZ(30,"div",21),e._UZ(31,"input",22),e.TgZ(32,"button",23)(33,"i",24),e.NdJ("click",function(){return i.toggleFieldTextType()}),e.qZA()(),e.YNc(34,F,2,1,"div",17),e.qZA()(),e.TgZ(35,"div",25)(36,"button",26)(37,"span"),e._uU(38,"Sign Up"),e.qZA()()()(),e.TgZ(39,"div",27)(40,"span"),e._uU(41,"Already have an account? "),e.qZA(),e.TgZ(42,"a",28),e._uU(43,"Sign In"),e.qZA()()()()()()()()(),e.TgZ(44,"footer",29)(45,"div",3)(46,"div",30)(47,"div",31)(48,"div",32)(49,"p",33),e._uU(50,"\xa9 Crafted with love "),e._UZ(51,"i",34),e.qZA()()()()()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.Loader),e.xp6(15),e.Q6J("formGroup",i.signUpForm),e.xp6(4),e.Q6J("ngClass",e.VKq(11,u,i.submitted&&i.f.userName.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.userName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(13,u,i.submitted&&i.f.email.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.email.errors),e.xp6(5),e.Q6J("type",i.fieldTextType?"text":"password")("ngClass",e.VKq(15,u,i.submitted&&i.f.password.errors)),e.xp6(2),e.Q6J("ngClass",e.WLB(17,Y,!i.fieldTextType,i.fieldTextType)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.password.errors),e.xp6(2),e.Q6J("disabled",i.Loader))},dependencies:[m.mk,m.O5,d.rH,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,v.R],styles:[".have-acc[_ngcontent-%COMP%]{box-shadow:8.8px 11.3px 7.6px -10px #00000008,29.7px 38px 25.5px -10px #0000000c,133px 170px 114px -10px #00000014;background:#efefed;border-radius:4px}.app-title[_ngcontent-%COMP%]{font-size:27px;font-family:initial;font-style:oblique;color:#201a1a}"]})}return t})()}];let B=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(Q),d.Bz]})}return t})();var E=a(6208);let P=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[m.ez,B,r.UX,r.u5,E.m]})}return t})()}}]);